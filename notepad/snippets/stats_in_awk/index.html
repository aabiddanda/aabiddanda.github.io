<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> 
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"> 
		<title>Stats in Awk</title>
		<meta name="description" content="Arjun Biddanda" />
		<meta name="keywords" content="Arjun Biddanda" />
		<meta name="author" content="Arjun Biddanda" />

		<link href='//fonts.googleapis.com/css?family=Roboto:300,500' rel='stylesheet' type='text/css'>
		<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
		<link rel="stylesheet" href="/css/arjun.css">

		<!-- Stylesheet for code in here... -->
		<link rel="stylesheet" href="/highlight/styles/default.css">
		<script src="/highlght/highlight.pack.js"></script>
		<script>hljs.initHighlightingOnLoad();</script>
	</head>

	<body>
		<img class="bg" src="/img/chicago_skyline.jpg">
 	 	<div class="content" align="left">

 	 	<!-- TODO : make sure the snippet is highlighted correctly -->
	 	 	<div id="snippet">
		 	 	<pre><code class="hljs bash">
		 	 	<span class="hljs-shebang">#!/bin/bash </span>
		 	 	<span class="hljs-comment">-------------</span>
		 	 	<span class="hljs-function">
		 	 	<span class="hljs-title">stats_awk</span> (){
		 	 	</span>
		 	 		file=<span class="hljs-variable">$1</span>
		 	 		col=<span class="hljs-variable">$2</span>
					n=$(wc -l $file| awk '{print $1}')
					mean=$( awk -v c=$col -v n=$n 'NR > 1 {sum += $c;} END {print sum / n}' $file )

					<span class="hljs-built-in">echo</span> <span class="hljs-string">"MEAN"</span>
					<span class="hljs-built-in">echo</span> <span class="hljs-string">"<span class="hljs-variable">$mean</span>"</span> 

		 	 	}
		 	 	</code></pre>
	 	 	</div>

	 	 	</br>
	 	 	<ps>
	 	 	<strong> Simple Stats in Awk</strong></br> 
	 	 	Sometimes when dealing with large files, we only care about one specific column of data and would like some level of summary statistics for this particular column. Reading a large datatable into R can take a while, but awk is a perfect tool for this! The above function can greatly improve your command-line efficiency when working with large datafiles. 

		</div>

		<div class="credit">
		  <ul>
		    <li><a href="/" title="About"><i class="fa fa-info-circle fa-2x"></i></br> About </a></li>	
		    <li><a href="mailto:abiddanda@uchicago.edu" title="Email"><i class="fa fa-envelope fa-2x"></i></br> Email </a></li>
		    <li><a href="arjun_biddanda_cv2014.pdf" title="CV"><i class="fa fa-book fa-2x"></i> </br> CV </a></li>
		    <li><a href="http://github.com/arjunbiddanda" title="Github"><i class="fa fa-github fa-2x"></i></br> Github </a></li>
	 			<li><a href="http://twitter.com/arjunbiddanda" title="Twitter" ><i class="fa fa-twitter fa-2x"></i></br> Twitter </a></li>
	 			<li><a href="notepad.html" title="Notepad"> <i class="fa fa-newspaper-o fa-2x"></i></br> Notepad </a></li>
  		</ul>
		</div>

	</body>
</html>
